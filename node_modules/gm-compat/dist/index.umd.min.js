!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).GMCompat=e()}(this,(function(){"use strict";let t=unsafeWindow;const{assign:e,freeze:n}=Object,{wrappedJSObject:o}=t,{slice:c}=[],r={unsafeWindow:o?t=o:t},i={cloneFunctions:!0,target:t,wrapReflectors:!0},l={target:t},p="function"==typeof cloneInto?cloneInto:t=>t,s="function"==typeof exportFunction?exportFunction:(e,{defineAs:n,target:o=t}={})=>n?o[n]=e:e;e(r,{apply(t,e,n){const o=c.call(n);return e.apply(t,this.cloneInto(o))},call(t,e,...n){const o=this.cloneInto(n);return e.call(t,...o)},cloneInto(t,n){const o=n?e({},i,n):i;return p(t,o.target,o)},export(t,e){return"function"==typeof t?this.exportFunction(t,e):this.cloneInto(t,e)},exportFunction(t,n){const o=n?e({},l,n):l;return s(t,o.target,o)},unwrap:t=>t&&t.wrappedJSObject||t});return n(r)}));
